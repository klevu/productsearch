<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_include.xsd">
    <group id="information" translate="label" sortOrder="1" showInDefault="1" showInWebsite="1" showInStore="1">
        <attribute type="expanded">1</attribute>
        <field id="klevu_versions" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\Versions</frontend_model>
        </field>
        <field id="klevu_how_to_integrate" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="0">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\HowToIntegrate</frontend_model>
        </field>
        <field id="klevu_quick_links" sortOrder="30" showInDefault="0" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\QuickLinks</frontend_model>
        </field>
        <field id="klevu_prerequisites" sortOrder="40" showInDefault="0" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\Prerequisites</frontend_model>
        </field>
        <field id="klevu_warnings_lock_file" sortOrder="100" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\WarningLockFile</frontend_model>
        </field>
        <field id="klevu_warnings_area_code" sortOrder="110" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\WarningAreaCode</frontend_model>
        </field>
        <field id="klevu_warnings_outdated_lock_file" sortOrder="120" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\WarningOutdatedLockFile</frontend_model>
        </field>
        <field id="klevu_warnings_object_vs_collection" sortOrder="130" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\WarningObjectVsCollection</frontend_model>
        </field>
        <field id="klevu_warnings_orders_same_ip" sortOrder="140" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Integration\WarningOrdersSameIp</frontend_model>
        </field>
    </group>

    <group id="general" translate="label" type="text" sortOrder="100" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>General Settings</label>
        <field id="enabled_info" translate="label comment" sortOrder="121" type="label" showInDefault="1" showInWebsite="1">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="enabled" translate="label" type="select" sortOrder="121"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Enable on Frontend</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Whether or not to enable Klevu Search in the frontend.
                    Data sync will still take place even if this is disabled, according to the Data Sync Settings.
                ]]>
            </comment>
        </field>
        <field id="integration_instructions" sortOrder="200" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Integration</frontend_model>
        </field>
    </group>

    <group id="searchlanding" translate="label" sortOrder="103" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Search Result Page Settings</label>
        <field id="landenabled_info" translate="label comment" sortOrder="100" type="label" showInDefault="1" showInWebsite="1">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="landenabled" translate="label" sortOrder="100" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Ordering &amp; Rendering</label>
            <comment>
                <![CDATA[
                    <strong>Native:</strong> Klevu will be disabled, and will not power the rendering or result ordering of your search results page.<br />
                    <strong>Klevu JS Theme:</strong> Use Klevu's JavaScript Theme to render and order the results of your search results page. Recommended for best results.<br />
                    <span class="preserve-layout-comment"><strong>Preserve your Magento layout:</strong> Klevu will control the ordering of results, but Magento will render your search results page.</span>
                ]]>
            </comment>
            <source_model>Klevu\Search\Model\System\Config\Source\Landingoptions</source_model>
        </field>
        <field id="klevu_search_sort_orders" translate="label comment" sortOrder="120"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Product List Sort Order Options</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\ProductListSortOrder</frontend_model>
            <backend_model>Magento\Config\Model\Config\Backend\Serialized\ArraySerialized</backend_model>
            <depends>
                <field id="landenabled">2</field>
            </depends>
            <comment>
                <![CDATA[
                    Select the sort order options available on the frontend. Leaving the Label Override field blank will use the system label shown in the dropdown field.<br />
                    If you do not add any sort order options, the default sort orders provided by Klevu will be used by default.<br />
                    For further details, see <a href="https://help.klevu.com/support/solutions/articles/5000871480-sort-order-options" target="_blank">this knowledgebase article</a>.<br />
                    Note: This option has no effect when using Klevu JSv2 Theme, where you can instead override the templates and functionality yourself to achieve the desired result.
                ]]>
            </comment>
        </field>
        <field id="klevu_search_relevance" translate="label comment" type="select" sortOrder="130"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Sort by Klevu Relevance</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <depends>
                <field id="landenabled">1</field>
            </depends>
            <comment><![CDATA[When option "Klevu Powered - Preserve Theme Layout" is selected.]]></comment>
        </field>
        <field id="relevance_label" translate="label comment" type="text"
               sortOrder="140" showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Sort Relevance Label</label>
            <validate>required-entry</validate>
            <depends>
                <field id="landenabled">1</field>
            </depends>
            <comment>
                <![CDATA[
                    On the Search Results Page, text label will be shown in the sorting drop-down.</br>
                    Default label will be as <strong>Relevance</strong>.
                ]]>
            </comment>
        </field>
    </group>

    <group id="product_sync" translate="label" sortOrder="102" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Product Sync Settings</label>
        <field id="enabled" translate="label comment" sortOrder="20" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Enable Product Sync</label>
            <source_model>Klevu\Search\Model\System\Config\Source\Yesnoforced</source_model>
            <comment>
                <![CDATA[
                    Include Magento Products with your search results.
                    We will monitor changes to your products and send them to Klevu based on the above frequency.
                  ]]>
            </comment>
        </field>
        <field id="catalogvisibility" translate="label comment" sortOrder="30" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Include Visibility: Catalog</label>
            <depends>
                <field id="enabled">1</field>
            </depends>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                  With this disabled, only products with Visibility: "Catalog, Search" or "Search" will be sent to Klevu.
                  Enable this setting to also include products with Visibility: "Catalog".
                  <strong>Important:</strong> Please contact <a href="mailto:support@klevu.com">support@klevu.com</a>
                  before enabling this option to prevent "Catalog" products appearing in your search results.
                ]]>
            </comment>
        </field>
        <field id="include_oos" translate="label comment" sortOrder="30" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Include Out of Stock Products</label>
            <depends>
                <field id="enabled">1</field>
            </depends>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[

                ]]>
            </comment>
        </field>
        <field id="frequency" translate="label comment" sortOrder="10" type="select" showInDefault="1">
            <label>Frequency</label>
            <source_model>Klevu\Search\Model\System\Config\Source\Frequency\ProductSync</source_model>
            <comment>
                <![CDATA[
                    Configure how often Klevu will synchronise changes to Products, Categories and CMS data.
                    Learn more about the available options for synchronising data here:
                    <a href="https://help.klevu.com/support/solutions/articles/5000871440-overview" target="_blank">Magento 2 Data Sync</a>.
                ]]>
            </comment>
        </field>
        <field id="order_sync_enabled" type="select" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Enable Order Sync</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                  <strong>Recommended.</strong> Klevu Search uses transactional data as a ranking factor to show the most popular products to your customers.
                  Enable this option to send recent Orders to Klevu via the native Magento internal cron.<br />
                  Schedule set in the Order Sync Frequency field.
                ]]>
            </comment>
        </field>
        <field id="rating_sync_enabled" type="select" sortOrder="61"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Enable Product Rating Sync From Magento</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment><![CDATA[ Enable Magento Rating Sync ]]></comment>
        </field>
        <field id="order_sync_frequency" translate="label comment" sortOrder="61" type="select" showInDefault="1">
            <label>Order Sync Frequency</label>
            <source_model>Klevu\Search\Model\System\Config\Source\Frequency\OrderSync</source_model>
            <depends>
                <field id="order_sync_enabled">1</field>
            </depends>
            <comment>
                <![CDATA[
                    Configure how often to send order information to Klevu.
                    Learn more about the available options for synchronising data here:
                    <a href="https://help.klevu.com/support/solutions/articles/5000871440-overview" target="_blank">Magento 2 Data Sync</a>.
                ]]>
            </comment>
        </field>
        <field id="order_sync_frequency_custom" translate="label comment" sortOrder="62" showInDefault="1">
            <label>Custom Order Sync Frequency</label>
            <depends>
                <field id="order_sync_enabled">1</field>
                <field id="order_sync_frequency">custom</field>
            </depends>
            <comment>
                <![CDATA[
                    Crontab schedule for order synchronisation, see our <a href="https://help.klevu.com/support/solutions/articles/5000871440-overview" target="_blank">Magento 2 Data Sync</a>
                    article for help generating and testing schedules.<br />
                    Some common schedules include
                    <ul style="padding-left: 20px">
                        <li><code>0 * * * *</code> : Hourly on the hour</li>
                        <li><code>0 2 * * *</code> : 2am every day (local time)</li>
                        <li><code>0 */6 * * *</code> : Every six hours, on the hour, starting at midnight</li>
                    </ul>
                ]]>
            </comment>
        </field>
        <field id="category_sync_enabled" type="select" sortOrder="40" showInDefault="1" showInWebsite="1"
               showInStore="1">
            <label>Enable Category Sync</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                  Include Magento Categories with your search results.
                  We will monitor changes to your categories and send them to Klevu based on the above frequency.
                ]]>
            </comment>
        </field>
        <field id="last_run" translate="label" sortOrder="910" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Sync Status</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Store\Level\Label</frontend_model>
            <comment>
                <![CDATA[
                    This is the date the last Product, Category or CMS Page was sent to Klevu,
                    which may have been triggered via Cron, CLI Command or manual sync.
                    Use Store View scope for store specific values. The date comes from the
                    klevu_product_sync database table, so the timezone may be different to expected.
                ]]>
            </comment>
        </field>
        <field id="cron_status" translate="label" sortOrder="920" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Cron Status</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Store\Status</frontend_model>
            <comment>
                <![CDATA[
                    This is the status of the native Magento Cron, which can either be 'Running' or 'Completed'.
                    If the status is 'Running' and the date is quite old, there might be a problem with your sync.
                    The date comes from the cron_schedule database table, so the timezone may be different to expected.
                ]]>
            </comment>
        </field>
        <field id="lockfile" translate="label comment" sortOrder="330" type="select" showInDefault="1">
            <label>Automatic Lock File Removal</label>
            <source_model>Klevu\Search\Model\System\Config\Source\LockFileOptions</source_model>
            <comment>
                <![CDATA[
                  Control how regularly old lock files are automatically removed.
                  Learn more about <a href="https://help.klevu.com/support/solutions/articles/5000871506-lock-files-for-data-sync" target="_blank">Klevu Lock Files.</a>
                ]]>
            </comment>
        </field>
        <field id="lock_file_status" translate="label" sortOrder="930"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Lock File Status</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Store\LockStatus</frontend_model>
            <comment>
                <![CDATA[
                    If any of the above lock files are quite old, there might be a problem with your sync.
                    Learn more about <a href="https://help.klevu.com/support/solutions/articles/5000871506-lock-files-for-data-sync" target="_blank">Klevu Lock Files.</a>
                    The dates come from the server files, so the timezone may be different to expected.
                ]]>
            </comment>
        </field>
        <field id="alldata_sync_btn" type="button" sortOrder="1010" showInDefault="1" showInWebsite="1" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Sync\AllData</frontend_model>
            <label>Sync All Data</label>
            <comment>
                <![CDATA[
                  Use this button to schedule all Products, Categories and CMS Pages need to be synchronised with Klevu.
                  These entities will then be sent during the next data sync via Cron, CLI Command or manual sync.
                ]]>
            </comment>
        </field>
        <field id="info_attribute" translate="label comment" sortOrder="1020" type="label"
               showInDefault="1" showInWebsite="1">
            <label>Sync Updates Only</label>
            <comment><![CDATA[Switch to Store View to sync recently modified entities.]]></comment>
        </field>
        <field id="updatesonly_sync_btn" type="button" sortOrder="1020" showInStore="1">
            <label>Sync Updates Only</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Sync\UpdatesOnly</frontend_model>
            <comment>
                <![CDATA[
                  Use this button to open a new tab where the data synchronisation will begin immediately,
                  synchronising any Products, Categories or CMS Pages which have been modified since the last sync to Klevu.
                ]]>
            </comment>
        </field>
        <field id="history_length" translate="label comment" type="text" sortOrder="1030"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Product Sync History Length</label>
            <comment>
                <![CDATA[
                    Number of records to keep in sync history. Positive integer.
                ]]>
            </comment>
            <validate>required-entry no-whitespace validate-positive-integer</validate>
        </field>
    </group>

    <group id="attributes" translate="label" sortOrder="104" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Product Attribute Settings</label>
        <field id="info_attribute" translate="label comment" sortOrder="100" type="label"
               showInDefault="1" showInWebsite="1" showInStore="0">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="categoryanchor" translate="label comment" sortOrder="1000" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Respect is anchor Category</label>
            <depends>
                <field id="enabled">1</field>
            </depends>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                   With this option set to "No", Klevu will treat each category-product association independently and will only link products that are directly added to a category.
                   By setting this to "Yes", Klevu will respect the "is anchor" setting of each category and category-product association will be inherited.
                ]]>
            </comment>
        </field>
        <field id="boosting" translate="label comment" sortOrder="800" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Boosting Attribute</label>
            <source_model>Klevu\Search\Model\System\Config\Source\Boosting\Attribute</source_model>
            <comment>
                <![CDATA[
                    Select the attribute you wish to use as the Boosting attribute in Klevu. The Boosting attribute is a decimal or integer product attribute.
                    To promote a product simply give the product a score higher than 1 and to demote give a score lower than 1 (i.e. 0.1)..
                ]]>
            </comment>
        </field>
        <field id="other" translate="label comment" sortOrder="600" type="multiselect"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Other Attributes To Use In Search</label>
            <can_be_empty>1</can_be_empty>
            <source_model>Klevu\Search\Model\System\Config\Source\Product\Attributes</source_model>
            <comment>
                <![CDATA[
                    By default, Klevu uses the following attributes in search: name, sku, description, short_description, price and rating.
                    To add more attributes to search, please select one or more attributes from the list above.
                    This change will take place during the next data sync via Cron, CLI Command or manual sync.
                  ]]>
            </comment>
        </field>
    </group>

    <group id="secureurl_setting" translate="label comment" sortOrder="106"
           showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Secure Url Settings</label>
        <field id="info_enabled" translate="label comment" sortOrder="100" type="label"
               showInDefault="1" showInWebsite="1">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="enabled" translate="label comment" sortOrder="100" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Use Secure Base Url for Products and Images</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Choose Yes to use secure base url from Store &gt; Cofiguration &gt; Store view &gt; General &gt; Secure &gt; Base URL.
                    This change will take place during the next data sync via Cron, CLI Command or manual sync.
                ]]>
            </comment>
        </field>
    </group>

    <group id="image_setting" translate="label comment" sortOrder="106"
           showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Product Image Settings</label>
        <field id="info_enabled" translate="label comment" sortOrder="100" type="label"
               showInDefault="1" showInWebsite="1">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="enabled" translate="label comment" sortOrder="100" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Use Configurable Product's Image in Search.</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Choose <strong>Yes</strong> to use configurable product's image in search.
                    This change will take place during the next data sync via Cron, CLI Command or manual sync.
                ]]>
            </comment>
        </field>
        <field id="image_width" translate="label comment" sortOrder="128"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Image Width</label>
            <comment><![CDATA[Image Width.]]></comment>
            <validate>required-entry validate-number</validate>
        </field>
        <field id="image_height" translate="label comment" sortOrder="128"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Image Height</label>
            <comment><![CDATA[Image Height.]]></comment>
            <validate>required-entry validate-number</validate>
        </field>
    </group>

    <group id="price_per_customer_group" translate="label comment" sortOrder="106"
           showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Display prices after Customer Group load</label>
        <field id="enabled_info" translate="label comment" sortOrder="121" type="label" showInDefault="1" showInWebsite="1">
            <comment><![CDATA[Switch to Store View scope to manage.]]></comment>
        </field>
        <field id="enabled" translate="label comment" sortOrder="100" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Display prices after Customer Group Load</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Recommended if using Customer Group Pricing.
                    This will delay the rendering of prices on the page until the current customer’s group is available, which will ensure the customer group price is displayed rather than the default."
                ]]>
            </comment>
        </field>
    </group>

    <group id="developer" translate="label comment" sortOrder="900" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Developer Settings</label>
        <field id="collection_method" translate="label comment" sortOrder="300" type="select" showInDefault="1">
            <label>Use Collection Method</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    <strong>Recommended.</strong> Use this option to choose between Collection Method and Object Method for loading products during data synchronisation.
                    Learn more here: <a href="https://help.klevu.com/support/solutions/articles/5000871455-sync-data-using-collection-method" target="_blank">Object vs Collection Method</a>.
                ]]>
            </comment>
        </field>

        <field id="product_sync_records_per_page" translate="label comment" sortOrder="301"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Product Sync Batch Size</label>
            <validate>validate-positive-integer validate-digits-range digits-range-1-500</validate>
            <depends>
                <field id="klevu_search/product_sync/enabled">1</field>
            </depends>
            <comment>
                <![CDATA[
                Range 1-500. <br/>
                Batch size for product sync. Default of 100 should be fine for most stores.
                If your products have a large amount of data this may be reduced to improve memory consumption during sync.
                ]]>
            </comment>
        </field>

        <field id="order_sync_max_batch_size" translate="label comment" sortOrder="302"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Order Sync Max Batch Size</label>
            <depends>
                <field id="klevu_search/product_sync/order_sync_enabled">1</field>
            </depends>
            <comment><![CDATA[
                    By default (with no value entered in the field above), the synchronisation process will attempt to push all unsent
                    order records.<br />
                    Setting a maximum batch size limits each cron execution to sending <em>at most</em> the configured number of orders.
                    Additional orders will be sent in a subsequent cron job, resuming from the earliest unsynced order.<br />
                    If you are encountering issues with memory or execution time limits, a lower batch size combined with more frequent synchronisations may mitigate the issue,
                    however there is a danger of orders backing up if the combination of frequency and batch size are not sufficient to process
                    average daily order volumes.
                ]]>
            </comment>
            <config_path>klevu_search/product_sync/order_sync_max_batch_size</config_path>
        </field>

        <field id="orderip" translate="label comment" sortOrder="303" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>IP Address Field for Order Data</label>
            <source_model>Klevu\Search\Model\System\Config\Source\Order\Ip</source_model>
            <comment>
                <![CDATA[By default, Klevu considers the remote_ip field of table sales_order for tracking the Shoppers IP in the checkout data but if the website is using x_forwarded_for field of table sales_order, please select x_forwarded_for option.]]>
            </comment>
        </field>

        <!-- Logging -->
        <field id="force_log" translate="label comment" sortOrder="305" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Force Logging</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[Use this setting to override default Magento log settings and enable logging. Log messages are saved in Klevu_Search.{store-code}.log]]>
            </comment>
        </field>
        <field id="log_level" translate="label" sortOrder="310" type="select"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Log level</label>
            <source_model>Klevu\Logger\Model\Source\LogLevel\Zend</source_model>
        </field>
        <field id="download_log_button" translate="label comment" type="button" sortOrder="315"
               showInDefault="1" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Logdownload</frontend_model>
        </field>
        <field id="clear_log_button" translate="label comment" type="button" sortOrder="320"
               showInDefault="1" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Logclear</frontend_model>
        </field>
        <field id="preserve_layout_log_enabled" translate="label" sortOrder="403" type="select"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <label>Enable Preserve Layout Log</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Use this setting to enable Klevu Preserve Layout log.
                    Once this setting is set to "yes", it will log the Product data and Search request data in the file
                    magento-root/var/log/Klevu_Search_Preserve_Layout.{store-code}.log.
                    Please make sure to enable this option only when it is required to debug search request data
                    otherwise it can impact the frontend search page and category pages.
                ]]>
            </comment>
        </field>
        <field id="preserve_layout_download_log_button" translate="label comment" type="button" sortOrder="404"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Logdownload\PreserveLayout</frontend_model>
        </field>
        <field id="preserve_layout_clear_log_button" translate="label comment" type="button" sortOrder="405"
               showInDefault="0" showInWebsite="0" showInStore="1">
            <frontend_model>Klevu\Search\Block\Adminhtml\Form\Field\Logclear\PreserveLayout</frontend_model>
        </field>

        <field id="trigger_options_info" translate="label comment" sortOrder="420" type="select" showInDefault="1">
            <label>Using an ERP OR 3rd party tool for product updates</label>
            <frontend_model>Klevu\Search\Block\Adminhtml\System\Config\Form\Field\Disable</frontend_model>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <backend_model>Klevu\Search\Model\Config\Backend\Trigger</backend_model>
            <comment>
                <![CDATA[
                DEPRECATED: This setting is no longer used and will be disabled during <code>setup:upgrade</code>.
                The setting has been replaced with an indexer via <code>etc/mview.xml</code>.
                The indexer will be enabled and set to "Update By Schedule" during <code>setup:upgrade</code>.
                <a href="" target="_blank">Price and Stock Updates</a>
                ]]>
            </comment>
        </field>
        <field id="theme_version" type="select" translate="label comment" sortOrder="500" showInDefault="1"
               showInWebsite="1" showInStore="1">
            <label>Theme Version</label>
            <comment>
                <![CDATA[
                    This setting configures which version of the Klevu JS is used to display quick search, search results page and category pages when using a JS based theme.
                    Please do not modify this unless you have read and understood the following guide:
                    <a href="https://help.klevu.com/support/solutions/articles/5000873487-magento-themev2-introducing-jsv2-theme" target="_blank">JSv1 vs JSv2 in Magento</a>.
                ]]>
            </comment>
            <source_model>Klevu\Search\Model\Source\ThemeVersion</source_model>
        </field>
        <field id="quicksearch_selector" translate="label comment" sortOrder="510"
               showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Quick Search Input Selector</label>
            <comment>
                <![CDATA[
                    CSS / JavaScript selector used to identity the frontend search input element to which Klevu's quick search context will be added.<br />
                    Default: <code>input[type=text][name=q],input[type=search][name=q]</code>
                ]]>
            </comment>
            <depends>
                <field id="theme_version">v2</field>
            </depends>
        </field>
        <field id="lazyload_js_quick_search" translate="label comment" type="select" sortOrder="511" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Lazy-load Quick Search JavaScript</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Lazy-loads JavaScript for Quick Search to prevent render blocking scripts on page load.
                    Please do not modify this unless you have read and understood the following guide:
                    <a href="https://help.klevu.com/support/solutions/articles/5000877463-lazy-load-jsv2-theme-scripts" target="_blank">Lazy-Load JSv2 Theme Scripts</a>.
                ]]>
            </comment>
            <depends>
                <field id="theme_version">v2</field>
            </depends>
        </field>
        <field id="lazyload_js_search_landing" translate="label comment" type="select" sortOrder="512" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Lazy-load Search Results Landing Page JavaScript</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <comment>
                <![CDATA[
                    Lazy-loads JavaScript for the Search Results Landing Page to prevent render blocking scripts on page load.
                    Please do not modify this unless you have read and understood the following guide:
                    <a href="https://help.klevu.com/support/solutions/articles/5000877463-lazy-load-jsv2-theme-scripts" target="_blank">Lazy-Load JSv2 Theme Scripts</a>.
                ]]>
            </comment>
            <depends>
                <field id="theme_version">v2</field>
            </depends>
        </field>
        <field id="content_min_height_srlp" translate="label comment" type="text" sortOrder="521" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Minimum Height for Search Results Landing Page Content</label>
            <comment>
                <![CDATA[
                    Sets a minimum height for the product list content on the Search Results Landing Page, which
                    can help reduce cumulative layout shift. For more information and recommended settings,
                    please read the following guide:
                    <a href="https://help.klevu.com/support/solutions/articles/5000877616-minimum-height-for-product-results-content" target="_blank">Minimum Height for Product Results Content</a>
                ]]>
            </comment>
            <validate>integer</validate>
            <depends>
                <field id="theme_version">v2</field>
            </depends>
        </field>
    </group>

    <group id="notification" translate="label comment" sortOrder="1000" showInDefault="1">
        <label>Notification Settings</label>
        <field id="object_vs_collection" translate="label comment" sortOrder="100" type="select" showInDefault="1">
            <label>Object vs Collection Method</label>
            <source_model>Klevu\Search\Model\System\Config\Source\NotificationOptions</source_model>
            <comment>
                <![CDATA[
                    This notification will appear when we detect you are using Object Method instead of the more efficient Collection Method.
                    If you have reviewed this already and decided to stick with Object Method, please disable this warning.
                    Learn more here: <a href="https://help.klevu.com/support/solutions/articles/5000871455-sync-data-using-collection-method" target="_blank">Object vs Collection Method</a>
                ]]>
            </comment>
        </field>
        <field id="lock_file" translate="label comment" sortOrder="200" type="select" showInDefault="1">
            <label>Lock Files</label>
            <source_model>Klevu\Search\Model\System\Config\Source\NotificationOptions</source_model>
            <comment>
                <![CDATA[
                    This notification will appear when we detect a Lock file older than the period you have specified in 'Data Sync Settings > Automatic Lock File Removal'.
                    <strong>Warning:</strong> By specifying 'At the top of every Magento Admin page', an attempt to read multiple files from disk will take place on every page of your admin panel, which can impact performance.
                    Learn more here: <a href="https://help.klevu.com/support/solutions/articles/5000871506-lock-files-for-data-sync" target="_blank">Magento 2 Lock Files</a>
                ]]>
            </comment>
        </field>
        <field id="orders_with_same_ip" translate="label comment" sortOrder="300" type="select" showInDefault="1">
            <label>Orders with same IP Address</label>
            <source_model>Klevu\Search\Model\System\Config\Source\NotificationOptions</source_model>
            <comment>
                <![CDATA[
                    This persistent notification will appear when we detect orders from the same IP address in the sales_order table in last 30 days.
                    <strong>Warning:</strong> By specifying 'At the top of every Magento Admin page', we will attempt to read records from the order table on every single page of your admin panel, which can impact performance.
                    If you have reviewed this message already, you can choose to disable this warning.
                ]]>
            </comment>
        </field>
    </group>
</config>
